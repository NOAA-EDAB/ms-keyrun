<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="mskeyrun">
<title>MS Keyrun Species, Environment, Data Formats • mskeyrun</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="MS Keyrun Species, Environment, Data Formats">
<meta property="og:description" content="mskeyrun">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mskeyrun</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/mskeyrun.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Data Needs</h6>
    <a class="dropdown-item" href="../articles/DataNeeds.html">Project outline</a>
    <a class="dropdown-item" href="../articles/DatasetDimensions.html">Dataset Dimensions</a>
    <a class="dropdown-item" href="../articles/SpeciesEnvDat.html">Keyrun Species, Environment, Data Formats</a>
    <a class="dropdown-item" href="../articles/CompsDat.html">Age, Length, Diet</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Georges Bank</h6>
    <a class="dropdown-item" href="../articles/GBSurveySet.html">GB Survey Footprint</a>
    <a class="dropdown-item" href="../articles/allocateLandingsEPU.html">Allocate Landings to GB</a>
    <a class="dropdown-item" href="../articles/stockAreas.html">Stock areas</a>
    <a class="dropdown-item" href="../articles/GBsurveycatchviz.html">Focal species biomass and catch on GB</a>
    <a class="dropdown-item" href="../articles/GBdietcomp.html">Focal species diets on GB</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Simulated Data</h6>
    <a class="dropdown-item" href="../articles/SimData.html">Generating Simulated Data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Assigning Fleets</h6>
    <a class="dropdown-item" href="../articles/GBFleetDefinitions.html">Analysis of catch by gear</a>
    <a class="dropdown-item" href="../articles/GBFleetDecisions.html">Fleet Definitions</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Length &amp; Age Based Data</h6>
    <a class="dropdown-item" href="../articles/GBLandingLengthDataSources.html">Data Sources</a>
    <a class="dropdown-item" href="../articles/GBLandingsByLength.html">Landings by Length</a>
    <a class="dropdown-item" href="../articles/GBLandingsByAge.html">Landings by Age</a>
    <a class="dropdown-item" href="../articles/GBLengthWeight.html">Length Weight Relationships</a>
    <a class="dropdown-item" href="../articles/GBbiomassNumbyLength.html">Survey Biomass and Abundance</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/NOAA-EDAB/ms-keyrun/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<link href="SpeciesEnvDat_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="SpeciesEnvDat_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="SpeciesEnvDat_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="SpeciesEnvDat_files/datatables-binding-0.33/datatables.js"></script><link href="SpeciesEnvDat_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="SpeciesEnvDat_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="SpeciesEnvDat_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="SpeciesEnvDat_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="SpeciesEnvDat_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>MS Keyrun Species, Environment, Data Formats</h1>
                        <h4 data-toc-skip class="author">Sarah
Gaichas</h4>
            
            <h4 data-toc-skip class="date">12 April, 2024</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/NOAA-EDAB/ms-keyrun/blob/HEAD/vignettes/SpeciesEnvDat.Rmd" class="external-link"><code>vignettes/SpeciesEnvDat.Rmd</code></a></small>
      <div class="d-none name"><code>SpeciesEnvDat.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="species-lists">Species lists<a class="anchor" aria-label="anchor" href="#species-lists"></a>
</h2>
<p>(We first pull species lists from the Rpath model and load the survey
results.)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Sean's file from https://github.com/NOAA-EDAB/GBRpath/blob/master/data/SOE_species_list.RData</span></span>
<span><span class="co"># loads the RData as object "species"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu">source_data</span><span class="op">(</span><span class="st">"https://github.com/NOAA-EDAB/GBRpath/blob/master/data/SOE_species_list.RData?raw=True"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># used to get a list to paste into google form</span></span>
<span><span class="co">#write.table(file = "spplist.txt", sort(unique(species$RPATH)))</span></span>
<span></span>
<span><span class="va">rpathspp</span> <span class="op">&lt;-</span> <span class="va">species</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">RPATH</span>, <span class="va">COMNAME</span>, <span class="va">SCINAME</span>, <span class="va">SVSPP</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">RPATH</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">distinct</span><span class="op">(</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">aggs</span> <span class="op">&lt;-</span> <span class="va">rpathspp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">RPATH</span>, sort <span class="op">=</span> <span class="cn">TRUE</span>, name <span class="op">=</span> <span class="st">"Nspp"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Nspp</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">singlespp</span> <span class="op">&lt;-</span> <span class="fu">anti_join</span><span class="op">(</span><span class="va">rpathspp</span>, <span class="va">aggs</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Nspp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rpathlist</span> <span class="op">&lt;-</span> <span class="fu">full_join</span><span class="op">(</span><span class="va">singlespp</span>, <span class="va">aggs</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#survey link https://forms.gle/gfA3tKFKRBxf3Mu38</span></span>
<span><span class="co">#results link https://docs.google.com/spreadsheets/d/1sckY46jdyBa1Fhydw2syBawkjGPcHX4YwQmDCDBXcGU/edit#gid=284425233</span></span>
<span></span>
<span><span class="co"># resultfile &lt;- drive_find(pattern = "MS-Keyrun Species", type = "spreadsheet")</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># responses &lt;- drive_download(resultfile, type = "csv", overwrite = TRUE) %&gt;%</span></span>
<span><span class="co">#   {read.csv(.$local_path)} </span></span>
<span></span>
<span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"supportingFiles/MS-Keyrun Species, Environment, Data Format (Responses) - Form Responses 1.csv"</span>,header<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">responses</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Species"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">responses</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Environment"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">responses</span><span class="op">)</span><span class="op">[</span><span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"ModelInR"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">responses</span><span class="op">)</span><span class="op">[</span><span class="fl">8</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"ModelUseR"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">responses</span><span class="op">)</span><span class="op">[</span><span class="fl">9</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"RData"</span></span></code></pre></div>
<div class="section level3">
<h3 id="focalSpecies">Multispecies models (focal species)<a class="anchor" aria-label="anchor" href="#focalSpecies"></a>
</h3>
<p>Multispecies models focus on a subset of interacting species. They
will estimate population parameters based on fits to biomass, catch, and
(if appropriate) size or age information, establish reference points,
and evaluate status for the interacting species.</p>
<p>Decision: Use the top ranked 10 species in the table below: Atlantic
herring, Atlantic cod, goosefish, haddock, spiny dogfish, winter
founder, yellowtail flounder, Atlantic mackerel, silver hake, and winter
skate. Rationale: These species occupy Georges Bank while pollock is
found more in the neighboring Gulf of Maine.</p>
<p>These species received &gt;2 vote for inclusion in MS-Keyrun
multispecies models:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># each row is a response with a comma delimited list of species</span></span>
<span><span class="co"># string split each row to species</span></span>
<span><span class="co"># tally by species</span></span>
<span><span class="co"># histogram</span></span>
<span></span>
<span><span class="va">msspecies</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="va">responses</span><span class="op">$</span><span class="va">Species</span>,</span>
<span>                        Model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MS"</span>, <span class="st">"MS"</span>, <span class="st">"NA"</span>, <span class="st">"MS"</span>, <span class="st">"Rpath"</span>, <span class="st">"MS"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Model</span> <span class="op">!=</span> <span class="st">"NA"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">separate_rows</span><span class="op">(</span><span class="va">Species</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species <span class="op">=</span> <span class="fu">str_trim</span><span class="op">(</span><span class="va">Species</span>, side <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">focal</span> <span class="op">&lt;-</span> <span class="va">msspecies</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Model</span> <span class="op">==</span> <span class="st">"MS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n</span> <span class="op">&gt;</span> <span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">rpathspp</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Species"</span> <span class="op">=</span> <span class="st">"RPATH"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">COMNAME</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">focal</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Species</th>
<th align="right">n</th>
<th align="left">SCINAME</th>
<th align="right">SVSPP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">AtlHerring</td>
<td align="right">4</td>
<td align="left">CLUPEA HARENGUS</td>
<td align="right">32</td>
</tr>
<tr class="even">
<td align="left">Cod</td>
<td align="right">4</td>
<td align="left">GADUS MORHUA</td>
<td align="right">73</td>
</tr>
<tr class="odd">
<td align="left">Goosefish</td>
<td align="right">4</td>
<td align="left">LOPHIUS AMERICANUS</td>
<td align="right">197</td>
</tr>
<tr class="even">
<td align="left">Haddock</td>
<td align="right">4</td>
<td align="left">MELANOGRAMMUS AEGLEFINUS</td>
<td align="right">74</td>
</tr>
<tr class="odd">
<td align="left">SpinyDogfish</td>
<td align="right">4</td>
<td align="left">SQUALUS ACANTHIAS</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="left">WinterFlounder</td>
<td align="right">4</td>
<td align="left">PSEUDOPLEURONECTES AMERICANUS</td>
<td align="right">106</td>
</tr>
<tr class="odd">
<td align="left">YTFlounder</td>
<td align="right">4</td>
<td align="left">LIMANDA FERRUGINEA</td>
<td align="right">105</td>
</tr>
<tr class="even">
<td align="left">AtlMackerel</td>
<td align="right">3</td>
<td align="left">SCOMBER SCOMBRUS</td>
<td align="right">121</td>
</tr>
<tr class="odd">
<td align="left">SilverHake</td>
<td align="right">3</td>
<td align="left">MERLUCCIUS BILINEARIS</td>
<td align="right">72</td>
</tr>
<tr class="even">
<td align="left">WinterSkate</td>
<td align="right">3</td>
<td align="left">LEUCORAJA OCELLATA</td>
<td align="right">23</td>
</tr>
</tbody>
</table>
<p>Species modeled by all compared multispecies models could include all
of these, or could be limited to a subset.</p>
</div>
<div class="section level3">
<h3 id="food-web-model-focal-rest-of-system">Food web model (focal + rest of system)<a class="anchor" aria-label="anchor" href="#food-web-model-focal-rest-of-system"></a>
</h3>
<p>The food web model is intended to examine wider ecosystem responses
to management measures applied to a subset of interacting species. It
will estimate predator-prey interaction and other parameters based on
fits to biomass, catch, and diet information. This model should track
general trends (if not interannual variability) for focal species and
produce reasonable reactions by their predators and prey.</p>
<p>Current species groups in the GB Rpath model (all retained for
MS-Keyrun):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">datatable</span><span class="op">(</span><span class="va">rpathlist</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">25</span>, </span>
<span>                         order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0</span>, <span class="st">'asc'</span><span class="op">)</span><span class="op">)</span></span>
<span>          <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["Redfish","AmLobster","AmPlaice","AmShad","Cod","AtlCroaker","AtlHalibut","AtlHerring","AtlMackerel","Barndoor","BlackSeaBass","Bluefish","Butterfish","RedCrab","Fourspot","Goosefish","Haddock","LittleSkate","Loligo","Illex","NShrimp","OceanPout","OffHake","Pollock","RedDrum","RedHake","Scup","AtlScallop","SilverHake","SmoothDogfish","SpinyDogfish","StripedBass","SummerFlounder","Weakfish","WhiteHake","Windowpane","WinterFlounder","WinterSkate","WitchFlounder","YTFlounder","SouthernDemersals","OtherDemersals","OtherPelagics","Mesopelagics","Sharks","Megabenthos","Macrobenthos","Freshwater","OtherFlatfish","OtherShrimps","Rays","SmPelagics","OtherCephalopods","LargePelagics","Fauna","OtherSkates","SmFlatfishes","Turtles","Tilefish","Sturgeon","SmallPelagics","Clams","HMS","RiverHerring"],["ACADIAN REDFISH","AMERICAN LOBSTER","AMERICAN PLAICE","AMERICAN SHAD","ATLANTIC COD","ATLANTIC CROAKER","ATLANTIC HALIBUT","ATLANTIC HERRING","ATLANTIC MACKEREL","BARNDOOR SKATE","BLACK SEA BASS","BLUEFISH","BUTTERFISH","CRAB,RED DEEPSEA","FOURSPOT FLOUNDER","GOOSEFISH","HADDOCK","LITTLE SKATE","LONGFIN SQUID","NORTHERN SHORTFIN SQUID","NORTHERN SHRIMP","OCEAN POUT","OFFSHORE HAKE","POLLOCK","RED DRUM","RED HAKE","SCUP","SEA SCALLOP","SILVER HAKE","SMOOTH DOGFISH","SPINY DOGFISH","STRIPED BASS","SUMMER FLOUNDER","WEAKFISH","WHITE HAKE","WINDOWPANE","WINTER FLOUNDER","WINTER SKATE","WITCH FLOUNDER","YELLOWTAIL FLOUNDER",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["SEBASTES FASCIATUS","HOMARUS AMERICANUS","HIPPOGLOSSOIDES PLATESSOIDES","ALOSA SAPIDISSIMA","GADUS MORHUA","MICROPOGONIAS UNDULATUS","HIPPOGLOSSUS HIPPOGLOSSUS","CLUPEA HARENGUS","SCOMBER SCOMBRUS","DIPTURUS LAEVIS","CENTROPRISTIS STRIATA","POMATOMUS SALTATRIX","PEPRILUS TRIACANTHUS","CHACEON QUINQUEDENS","PARALICHTHYS OBLONGUS","LOPHIUS AMERICANUS","MELANOGRAMMUS AEGLEFINUS","LEUCORAJA ERINACEA","LOLIGO PEALEII","ILLEX ILLECEBROSUS","PANDALUS BOREALIS","ZOARCES AMERICANUS","MERLUCCIUS ALBIDUS","POLLACHIUS VIRENS","SCIAENOPS OCELLATUS","UROPHYCIS CHUSS","STENOTOMUS CHRYSOPS","PLACOPECTEN MAGELLANICUS","MERLUCCIUS BILINEARIS","MUSTELUS CANIS","SQUALUS ACANTHIAS","MORONE SAXATILIS","PARALICHTHYS DENTATUS","CYNOSCION REGALIS","UROPHYCIS TENUIS","SCOPHTHALMUS AQUOSUS","PSEUDOPLEURONECTES AMERICANUS ","LEUCORAJA OCELLATA","GLYPTOCEPHALUS CYNOGLOSSUS","LIMANDA FERRUGINEA ",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[155,301,102,35,73,136,101,32,121,22,141,135,131,310,104,197,74,26,503,502,306,193,69,75,654,77,143,401,72,13,15,139,103,145,76,108,106,23,107,105,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,256,142,75,64,51,48,42,38,30,28,20,20,18,16,15,13,11,11,7,4,3,2,2,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>RPATH<\/th>\n      <th>COMNAME<\/th>\n      <th>SCINAME<\/th>\n      <th>SVSPP<\/th>\n      <th>Nspp<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":25,"order":[[0,"asc"]],"columnDefs":[{"className":"dt-right","targets":[3,4]},{"name":"RPATH","targets":0},{"name":"COMNAME","targets":1},{"name":"SCINAME","targets":2},{"name":"SVSPP","targets":3},{"name":"Nspp","targets":4}],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="section level2">
<h2 id="envrionmental-data">Envrionmental data<a class="anchor" aria-label="anchor" href="#envrionmental-data"></a>
</h2>
<p>Hydra, the length-based multispecies model, already incorporates a
time series of Georges Bank bottom temperature as a covariate in
simulation mode to force changes in growth, maturity, and recruitment.
For MS-Keyrun, we can explore fitting the parameters governing the
influence of this covariate.</p>
<p>Rpath can be directly forced by a primary production time series, and
temperature-based mediation functions can be included (but it is unclear
whether parameters can be fit for these functions).</p>
<p>Two mulispecies models are not currently set up to incorporate
environmental data: MSCAA, MSSPM/Kraken</p>
<p>The WHAM model can potentially incorporate any environmental time
series that can influence recruitment or mortality.</p>
<p>These environmental time series received &gt;1 vote for inclusion in
MS-Keyrun multispecies and Rpath models:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># each row is a response with a comma delimited list of environmental data</span></span>
<span><span class="co"># string split each row to dataset name</span></span>
<span><span class="co"># tally by dataset</span></span>
<span><span class="co"># histogram</span></span>
<span></span>
<span><span class="va">msenv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Environment <span class="op">=</span> <span class="va">responses</span><span class="op">$</span><span class="va">Environment</span>,</span>
<span>                        Model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MS"</span>, <span class="st">"MS"</span>, <span class="st">"NA"</span>, <span class="st">"MS"</span>, <span class="st">"Rpath"</span>, <span class="st">"MS"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Model</span> <span class="op">!=</span> <span class="st">"NA"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">separate_rows</span><span class="op">(</span><span class="va">Environment</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Environment <span class="op">=</span> <span class="fu">str_trim</span><span class="op">(</span><span class="va">Environment</span>, side <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">includedenv</span> <span class="op">&lt;-</span> <span class="va">msenv</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">Environment</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">includedenv</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Environment</th>
<th align="right">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Georges Bank bottom temperature</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Georges Bank primary production</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Cold pool index (mainly Mid-Atlantic)</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">Georges Bank bottom salinity</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Georges Bank chlorophyll a</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">Georges Bank stratification</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Georges Bank surface salinity</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">Georges Bank surface temperature</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Georges Bank zooplankton abundance</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">North Atlantic Oscillation (basinwide)</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Northeast channel slopewater proportions</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>Decision: We will include GB temperature and primary production time
series as part of the MS-Keyrun dataset. Modelers may retrieve
additional data from <code>ecodata</code>.</p>
<p>The <code>ecodata</code> R package has up to date information at the
Georges Bank EPU scale as listed here: <a href="https://noaa-edab.github.io/ecodata/landing_page" class="external-link uri">https://noaa-edab.github.io/ecodata/landing_page</a>.</p>
<p>Current time series in ecodata:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#remotes::install_github("noaa-edab/ecodata",build_vignettes=TRUE)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ecodata</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ecodsets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"ecodata"</span><span class="op">)</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Item"</span>, <span class="st">"Title"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu">datatable</span><span class="op">(</span><span class="va">ecodsets</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"data":[["ESP_gsi","ESP_heatwave","ESP_heatwave_cod","ESP_seasonal_chl","ESP_seasonal_oisst_anom","ESP_seasonal_pp","ESP_sf","HMS_species_distribution","SAV","abc.acl","abc_acl","aggregate_biomass","annual_chl_pp","aquaculture","bennet","blue_runner","bottom_temp","bottom_temp_comp","bottom_temp_glorys","bottom_temp_seasonal_gridded","calanus_stage","ch_bay_sal","ch_bay_temp","ches_bay_sf","ches_bay_sst","ches_bay_wq","chl_pp","coast","cold_pool","cold_pool_sf","comdat","commercial_div","condition","energy_density","engagement","epu_sf","exp_n","forage_anomaly","forage_index","gom_salmon","grayseal","gsi","gsi_old","habitat_diversity","habitat_occupancy","habitat_vulnerability","habs","harborporpoise","heatwave","heatwave_anom_gridded","heatwave_peak_date","heatwave_year","hms_category","hms_cpue","hms_landings","hms_stock_status","hp_density","hudson_river_flow","ichthyo_diversity","long_line_survey","long_term_sst","longlinesurvey_sf","lps_sharks","mab_inshore_survey","mass_inshore_survey","nao","narw","ne_inshore_survey","ne_inshore_survey_species","observed_sharks","phyto_size","ppr","productivity_anomaly","rec_hms","recdat","sandlance","seabird_mab (seabird_MAB)","seabird_ne","seal_pups","seasonal_bt_anomaly_gridded","seasonal_oisst_anom","seasonal_sst_anomaly_gridded","slopewater","spawn_timing","species_dist","species_groupings","stock_status","stom_fullness","storminess","survey_shannon","thermal_habitat_area","thermal_habitat_persistence","trans_dates","wcr","wea_landings_rev","wind_dev_speed","wind_occupancy","wind_port","wind_revenue","zoo_abundance_anom","zoo_diversity","zoo_regime","zoo_strat_abun"],["","","","","","","","","Chesapeake Bay Submerged Aquatic Vegetation","","ABC or ACL for Managed Stocks","NEFSC survey data broken into season and aggregate group biomass","","Oyster aquaculture","Bennet indicator","SAFMC managed Blue Runner presence on NES","Bottom temperature","Bottom temperature - High Resolution","Bottom temperature - GLORYS","Bottom temperature - Seasonal Gridded Product","Calanus Stage","Chesapeake Bay salinity with historical trends for comparison","Chesapeake Bay temperature with historical trends for comparison","Chesapeake Bay shapefiles","Chesapeake Bay Gridded Sea Surface Temperature","Chesapeake Bay Water Quality Attainment","Chlorophyll _a_ and primary production","Coast","Cold pool index","Cold pool sf index","Aggregated commercial fisheries data","Commercial fisheries diversity","Fish Condition","Forage fish energy density","Commercial and recreational fishery social-economic indicators","Ecological Production Units","Expected Number of Species per 1000 Individuals","Forage Anomaly","Forage Index","","Gray Seal Bycatch","Gulf Stream Index","","Habitat Diversity","Habitat Occupancy","Habitat Vulnerability","Harmful Algal Blooms - Alexandrium and Paralitic Shellfish Poisoning","Harbor porpoise bycatch","Marine Heatwaves","","","Marine heatwaves within most recent year","Highly Migratory Species Category","Highly Migratory Species Catch per Unit Effort","Highly Migratory Species Landings and Revenue","Highly Migratory species stock status","hp_density","Hudson River Flow","Ichthyoplankton diversity","longline survey","Long-term SST","Longline survey sf index ?????","lps_sharks ???","NEAMAP Mid-Atlantic inshore trawl survey","Massachusetts inshore bottom trawl survey","","North Atlantic right whale abundance","New England inshore state survey data","New England inshore state survey data species","NE Observer program Shark data","Phytoplankton size class","Ecosystem Overfishing Indicators","Small fish per large fish biomass anomaly","Recreational shark fishing landings","Recreational fishing indicators","Stellwagen Bank Sandlance","Virginia waterbird productivity","Common tern productivity and diet composition","Seal Pups counts in New England","Bottom temperature anomaly","Sea-surface temperature anomaly time serries","Sea-surface temperature anomaly","Northeast Channel slopewater proportions","","Species distribution on the NES.","Species groupings","Managed species stock status","Stomach fullness index calculated from NEFSC fall bottom trawl surveys","","Shannon Diversity of NEFSC Bottom Trawl Survey","","","Sea surface temperature seasonal transiition dates","Warm core ring births","Fisheries maximum and minimum landings and revenue from wind energy areas (WEAs).","Wind energy development speed","Wind lease area and habitat occupancy model overlap","Community Port Landings and Revenue from Wind Energy Areas (WEAs)","Fisheries revenue from wind lease areas","Zooplankton abundance anomaly","Zooplankton diversity","Zooplankton abundance anomaly used in regime shift analysis","Zooplankton stratified abundance for Euphausids and Cnidarians"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Item<\/th>\n      <th>Title<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":25,"columnDefs":[{"name":"Item","targets":0},{"name":"Title","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="programming-frameworks-and-data-formats">Programming frameworks and data formats<a class="anchor" aria-label="anchor" href="#programming-frameworks-and-data-formats"></a>
</h2>
<p>Most models are either implemented in R or can work directly with R
datasets:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># these are multiple choice yes/no so just plot</span></span>
<span></span>
<span><span class="va">useR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ModelInR <span class="op">=</span> <span class="va">responses</span><span class="op">$</span><span class="va">ModelInR</span>,</span>
<span>                   ModelUseR <span class="op">=</span> <span class="va">responses</span><span class="op">$</span><span class="va">ModelUseR</span>,</span>
<span>                   RData <span class="op">=</span> <span class="va">responses</span><span class="op">$</span><span class="va">RData</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">gather</span><span class="op">(</span><span class="va">question</span>, <span class="va">answer</span>, <span class="va">ModelInR</span><span class="op">:</span><span class="va">RData</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>shortans <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="fu">word</span><span class="op">(</span><span class="va">answer</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                           <span class="va">answer</span>, </span>
<span>                           <span class="fu">word</span><span class="op">(</span><span class="va">answer</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">yesR</span> <span class="op">&lt;-</span> <span class="va">useR</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">question</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">answer</span><span class="op">==</span><span class="st">"Yes"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>tot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>percent <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="va">tot</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">yesR</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">question</th>
<th align="left">answer == “Yes”</th>
<th align="right">n</th>
<th align="right">tot</th>
<th align="right">percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ModelInR</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="right">33.33333</td>
</tr>
<tr class="even">
<td align="left">ModelInR</td>
<td align="left">TRUE</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">66.66667</td>
</tr>
<tr class="odd">
<td align="left">ModelUseR</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="right">33.33333</td>
</tr>
<tr class="even">
<td align="left">ModelUseR</td>
<td align="left">TRUE</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">66.66667</td>
</tr>
<tr class="odd">
<td align="left">RData</td>
<td align="left">TRUE</td>
<td align="right">6</td>
<td align="right">6</td>
<td align="right">100.00000</td>
</tr>
</tbody>
</table>
<p>Decision: All surveyed agreed that we should maintain datasets within
an R data package for the MS-Keyrun project.</p>
<p>See <a href="https://docs.google.com/document/d/19FpJ8w2a-ZZ8ZY4ZmsnjlIilLeN1X9_Tz1dM-KsdOOw/edit#heading=h.kvnvc0pxyvqq" class="external-link">discussion</a>
of pros and cons of using R data package for standardizing input
datasets and making them available.</p>
</div>
<div class="section level2">
<h2 id="full-survey-results">Full survey results<a class="anchor" aria-label="anchor" href="#full-survey-results"></a>
</h2>
<div class="section level3">
<h3 id="survey-conducted-july-13-29-2020">Survey conducted July 13-29 2020<a class="anchor" aria-label="anchor" href="#survey-conducted-july-13-29-2020"></a>
</h3>
<p><a href="https://forms.gle/gfA3tKFKRBxf3Mu38" class="external-link">This is the survey
form.</a></p>
<p>We had 6 responses.</p>
</div>
<div class="section level3">
<h3 id="species">Species<a class="anchor" aria-label="anchor" href="#species"></a>
</h3>
<p>Responses:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">msspecies</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">Model</span>, nrow <span class="op">=</span> <span class="fl">2</span>, scales<span class="op">=</span><span class="st">"free"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="SpeciesEnvDat_files/figure-html/plotspp-1.png" width="700"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">responses</span><span class="op">$</span><span class="va">Rationale.for.species.included</span>, col.names <span class="op">=</span> <span class="st">"Species rationale"</span>, booktabs<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="left">Species rationale</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">10 of these already in Hydra. 3 others (Pollock, white
hake, red hake) may be included at some point in future</td>
</tr>
<tr class="even">
<td align="left">Major GB predator and prey species; Also included WFl,
YFl and Haddock because of their commercial importance but they are not
essential because they are not primary prey or predator species,</td>
</tr>
<tr class="odd">
<td align="left">We have only tested MSSPM for models with 5 species.
This keyrun project will be a further test of the software’s
capacity/capabilities. A model that uses a smaller subset of key species
should still be useful for multiple model inference.</td>
</tr>
<tr class="even">
<td align="left">Selected species will be focus of research track
assessments in 2021-2026. No other reasoning applied.</td>
</tr>
<tr class="odd">
<td align="left">GB Rpath is a full foodweb model</td>
</tr>
<tr class="even">
<td align="left">This is probably too many, but species that are
commercially important and/or forage fish should be included. Perhaps a
subset of this</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="environment">Environment<a class="anchor" aria-label="anchor" href="#environment"></a>
</h3>
<p>Responses:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">msenv</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">Environment</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">Model</span>, nrow <span class="op">=</span> <span class="fl">2</span>, scales<span class="op">=</span><span class="st">"free"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="SpeciesEnvDat_files/figure-html/plotenv-1.png" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">responses</span><span class="op">$</span><span class="va">Rationale.for.environmental.time.series.included</span>, col.names <span class="op">=</span> <span class="st">"Environment rationale"</span>, booktabs<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="left">Environment rationale</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">already used in used in growth, maturity, recruitment
(Hydra)</td>
</tr>
<tr class="even">
<td align="left">Environmental data currently is not built into the SCAA
model</td>
</tr>
<tr class="odd">
<td align="left">Environmental covariates are not yet implemented in the
MSSPM version of Kraken, but we may be able to implement some
capability.</td>
</tr>
<tr class="even">
<td align="left">Not much specifically, just thinking of variables with
links to fish recruitment.</td>
</tr>
<tr class="odd">
<td align="left">The Rpath model can be forced by primary production and
potentially temperature.</td>
</tr>
<tr class="even">
<td align="left">These seem to be the time series that match best to the
temporal scale of the models</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="model-programming-frameworks">Model programming frameworks<a class="anchor" aria-label="anchor" href="#model-programming-frameworks"></a>
</h3>
<p>Many but not all models interface with R and can use R datasets. Even
for those that do not, all agreed on using an R data package for
standardizing input datasets and making them available.</p>
<p>Responses:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">useR</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">question</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill<span class="op">=</span><span class="va">shortans</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Question"</span>, </span>
<span>       fill <span class="op">=</span> <span class="st">"Short Answer"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_x_discrete</span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">str_wrap</span><span class="op">(</span><span class="va">x</span>, width <span class="op">=</span> <span class="fl">35</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="SpeciesEnvDat_files/figure-html/plotdat-1.png" width="700"></p>
<p>Short answer key: “No but” = No but we should be able to implement
some R connections to the MSSPM software.<br>
“Probably, we” = Probably, we would need to sort out how to exprt from R
into Mysql</p>
</div>
</div>
<div class="section level2">
<h2 id="meeting-minutes-5-august-2020">Meeting minutes, 5 August 2020<a class="anchor" aria-label="anchor" href="#meeting-minutes-5-august-2020"></a>
</h2>
<p><a href="https://docs.google.com/document/d/19FpJ8w2a-ZZ8ZY4ZmsnjlIilLeN1X9_Tz1dM-KsdOOw/edit#heading=h.m573izndd2nh" class="external-link">Click
here!</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Andy Beet, Sean Lucey, Sarah Gaichas, Kiersten Curti.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
