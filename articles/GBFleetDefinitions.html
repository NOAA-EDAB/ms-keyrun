<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fleet Definitions for Georges Bank • mskeyrun</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Fleet Definitions for Georges Bank">
<meta property="og:description" content="mskeyrun">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mskeyrun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mskeyrun.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CompsDat.html">MS Keyrun Age, Length, and Diet Composition Data Needs</a>
    </li>
    <li>
      <a href="../articles/DataNeeds.html">MS Keyrun Data Needs</a>
    </li>
    <li>
      <a href="../articles/DatasetDimensions.html">MS Keyrun Dataset Dimensions</a>
    </li>
    <li>
      <a href="../articles/GBFleetDecisions.html">Fleet Decisions for Georges Bank</a>
    </li>
    <li>
      <a href="../articles/GBFleetDefinitions.html">Fleet Definitions for Georges Bank</a>
    </li>
    <li>
      <a href="../articles/GBLandingsByLength.html">Landings by Length for Georges Bank</a>
    </li>
    <li>
      <a href="../articles/SimData.html">Generating Simulated Data</a>
    </li>
    <li>
      <a href="../articles/SpeciesEnvDat.html">MS Keyrun Species, Environment, Data Formats</a>
    </li>
    <li>
      <a href="../articles/allocateLandingsEPU.html">Allocate landings to Georges Bank EPU</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/NOAA-EDAB/ms-keyrun/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="GBFleetDefinitions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="GBFleetDefinitions_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="GBFleetDefinitions_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="GBFleetDefinitions_files/datatables-binding-0.19/datatables.js"></script><script src="GBFleetDefinitions_files/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="GBFleetDefinitions_files/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="GBFleetDefinitions_files/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="GBFleetDefinitions_files/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="GBFleetDefinitions_files/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="GBFleetDefinitions_files/crosstalk-1.1.1/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Fleet Definitions for Georges Bank</h1>
                        <h4 class="author">Andy Beet</h4>
            
            <h4 class="date">12 October, 2021</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/NOAA-EDAB/ms-keyrun/blob/master/vignettes/GBFleetDefinitions.Rmd"><code>vignettes/GBFleetDefinitions.Rmd</code></a></small>
      <div class="hidden name"><code>GBFleetDefinitions.Rmd</code></div>

    </div>

    
    
<div id="spatial-extent" class="section level2">
<h2 class="hasAnchor">
<a href="#spatial-extent" class="anchor"></a>Spatial Extent</h2>
<p>Statistical areas are used to define the Georges Bank footprint for pulling the landings data by gear</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">crs</span> <span class="op">&lt;-</span> <span class="fl">4326</span>
<span class="co"># read in coastline and GB shape file</span>
<span class="va">coast</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">st_read</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data-raw/gis"</span>, <span class="st">'NES_LME_coast.shp'</span><span class="op">)</span>, quiet <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">.</span>,crs<span class="op">=</span><span class="va">crs</span><span class="op">)</span>
<span class="va">GB_strata</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">st_read</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data-raw/gis"</span>,<span class="st">"Statistical_Areas_2010.shp"</span><span class="op">)</span>,quiet<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">.</span>,crs<span class="op">=</span><span class="va">crs</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Id</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">521</span>, <span class="fl">522</span>, <span class="fl">523</span>, <span class="fl">524</span>, <span class="fl">525</span>, <span class="fl">526</span>, <span class="fl">538</span>, <span class="fl">551</span>, <span class="fl">552</span>, <span class="fl">561</span>, <span class="fl">562</span>, <span class="fl">537</span><span class="op">)</span> <span class="op">)</span>
<span class="va">centroids</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_centroid</a></span><span class="op">(</span><span class="va">GB_strata</span><span class="op">)</span><span class="op">)</span>
<span class="va">GB_strata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">GB_strata</span>,<span class="va">centroids</span><span class="op">)</span>

<span class="co">#plot map</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">coast</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">GB_strata</span>,fill<span class="op">=</span><span class="st">"grey"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">GB_strata</span>,<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">X</span>,y<span class="op">=</span><span class="va">Y</span>,label<span class="op">=</span><span class="va">Id</span><span class="op">)</span>,size<span class="op">=</span><span class="fl">2</span><span class="op">)</span>    <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">coord_sf</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">76</span>,<span class="op">-</span><span class="fl">65</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">38</span>,<span class="fl">44</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="GBFleetDefinitions_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
</div>
<div id="gear-types" class="section level2">
<h2 class="hasAnchor">
<a href="#gear-types" class="anchor"></a>Gear Types</h2>
<p>There are a total of 52 unique NEGEAR2 codes (found in the cfdbs.gear table). However on Georges Bank not all of these fishing gears are used. A subset of 45 gear types are used. All gear codes:</p>
<div id="htmlwidget-69c61e3095d9d36b9a38" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-69c61e3095d9d36b9a38">{"x":{"filter":"none","vertical":false,"data":[["-1","-1","-1","-1","-1","-1","-1","-1","01","02","02","03","03","03","03","04","05","05","05","05","05","05","05","05","05","05","06","06","06","06","06","06","06","06","07","07","08","09","09","09","10","10","10","10","10","10","11","11","11","11","11","11","11","11","12","12","12","12","12","13","13","14","14","14","14","15","16","17","18","18","18","18","18","18","18","19","20","20","20","20","20","20","20","20","21","21","21","21","21","21","21","21","22","22","22","22","23","23","24","25","25","26","27","28","28","29","30","30","31","32","32","32","32","32","33","33","33","33","34","35","35","35","35","36","37","38","38","38","38","38","38","38","38","39","40","41","41","41","41","41","42","43","44","45","50","51","52","53","81","99"],[null,null,null,null,"SIDE TRAWL","STERN TRAWL","TRAWL, OTTER, MIDWATER","TRAWL, OTTER, MIDWATER","LONGLINE, BOTTOM","HANDLINE","HANDLINE,AUTO JIG","HARPOON,OTHER/NK SPECIES","HARPOON,SWORDFISH","HARPOON,TURTLE","SPEARS","LONGLINE, PELAGIC","TRAWL,OTTER,BOTTOM,FISH","TRAWL,OTTER,BOTTOM,CRAB","TRAWL,OTTER,BOTTOM,SCALLOP","TRAWL,OTTER,BOTTOM,TWIN","TRAWL,OTTER,BOTTOM,RUHLE","TRAWL,OTTER,BOTTOM,LOBSTER","TRAWL,OTTER,BOTTOM PAIRED","TRAWL,OTTER,BOTTOM,HADDOCK SEPARATOR","TRAWL,OTTER,BOTTOM,SHRIMP","TRAWL,OTTER,BOTTOM,OTHER/NK SPECIES","TROLL LINE, OTHER/NK SPECIES","TROLL LINE, TUNA","TROT LINE WITH BAIT","POWER TROLL SALMON","POWER TROLL TUNA","POWER TROLL OTHER/NK SPECIES","TROLL &amp; HANDLINE, COMBINED","TROLL LINE, GREEN-STICK","HAUL SEINE, BEACH, COMMON","HAUL SEINE, LONG","FLOATING TRAP","DIP NET, COMMON","DIP NET, DROP NET","DIP NET, PUSH NET","GILL NET, FIXED OR ANCHORED,SINK, OTHER/NK SPECIES","GILL NET,SET /STAKE, SEA BASS","GILL NET,STAKE,OTHER","GILL NET,SET, SALMON","GILL NET,SET, CRAB","GILL NET,ANCHORED-FLOATING, FISH","GILL NET,DRIFT, OTHER/NK SPECIES","GILL NET,DRIFT, SEA BASS","GILL NET,DRIFT, SHAD","GILL NET,DRIFT, SALMON","GILL NET,DRIFT, BARRACUDA","GILL NET,DRIFT, LARGE PELAGIC","GILL NET,DRIFT-FLOATING, FISH","GILL NET,DRIFT-SINK, FISH","PURSE SEINE, OTHER/NK SPECIES","PURSE SEINE, HERRING","PURSE SEINE, MACKEREL","PURSE SEINE, MENHADEN","PURSE SEINE, TUNA","DREDGE, SCALLOP,BAY","DREDGE, SCALLOP,SEA","POUND NET, OTHER/NK SPECIES","POUND NET, CRAB","POUND NET, FISH","POUND NET, HORSESHOE CRAB","TRAWL,OTTER,BOTTOM,LG MESH BELLY PANEL","DANISH SEINE","TRAWL,OTTER,MIDWATER PAIRED","POTS + TRAPS,OTHER/NK SPECIES","POTS + TRAPS,FISH","POTS + TRAPS,EEL","POTS + TRAPS,CONCH","POTS + TRAPS,OCTOPUS","POTS + TRAPS,TURTLE","POTS + TRAPS, HAGFISH","POTS + TRAPS,SHRIMP","POT/TRAP, LOBSTER OFFSH NK","POT/TRAP, LOBSTER OFFSH WOOD","POT/TRAP, LOBSTER OFFSH WIRE","POT/TRAP, LOBSTER OFFSH WD/WR","POT/TRAP, LOBSTER OFFSH WD/NET","POT/TRAP, LOBSTER OFFSH WR/NET","POT/TRAP, LOBSTER OFFSH PLASTIC","POT/TRAP, LOBSTER OFFSH CONICAL","POT/TRAP, LOBSTER INSH NK","POT/TRAP, LOBSTER INSH WOOD","POT/TRAP, LOBSTER INSH WIRE","POT/TRAP, LOBSTER INSH WD/WR","POT/TRAP, LOBSTER INSH WD/NET","POT/TRAP, LOBSTER INSH WR/NET","POT/TRAP, LOBSTER INSH PLASTIC","POT/TRAP, LOBSTER INSH CONICAL","HOES","FORKS","SHOVELS","PICKS","BY HAND, OTHER/NK SPECIES","BY HAND, OYSTERS","STOP SEINE","RAKES, OTHER/NK SPECIES","RAKES, OYSTER","WEIR","BOX TRAP","DREDGE, OYSTER COMMON","DREDGE, OYSTER SUCTION","BAG NET","POTS + TRAPS,CRAB OTHER","POTS + TRAPS,BLUE CRAB","LIFT NET","FYKE NET, OTHER/NK SPECIES","FYKE NET, CRAB","FYKE NET, FISH","FYKE NET, TURTLE","HOOP NET","DIVING GEAR","DIVING GEAR, SCALLOP","DIVING GEAR, URCHIN","DIVING GEAR,SUCTION PUMP,HAND","CAST NETS","BEAM TRAWL, OTHER/NK SPECIES","BEAM TRAWL, SHRIMP","BEAM TRAWL,SCALLOP","BEAM TRAWL,FISH","SCOTTISH SEINE","TRAWL,OTTER,MIDWATER","SCRAPES","DREDGE, OTHER/NK SPECIES","DREDGE, CLAM","DREDGE, CRAB","DREDGE, CONCH","DREDGE, MUSSEL","DREDGE, CLAM, HYDRAULIC","DREDGE, URCHIN","STOP NET","DREDGE, SURF CLAM + OCEAN QUAHO","TONGS AND GRABS, OTHER/NK SPECIES","TONGS AND GRABS, CLAM","TONGS AND GRABS, OYSTER","TONGS AND GRABS, CLAM,PATEN","TONGS AND GRABS,OYSTER,PATEN","HOOKS","KNIFE, SEAWEED","WEEDWHACKER, SEAWEED","TRAWL,SHRIMP,TWINNED","GILL NET,RUNAROUND","GILL NET,GREAT LAKES","GILL NET,OTHER","TRAMMEL NET","SUCTION PUMP","UNKNOWN"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>NEGEAR2<\/th>\n      <th>GEARNM<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"order":[[0,"asc"]],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="aggregating-gear-types" class="section level2">
<h2 class="hasAnchor">
<a href="#aggregating-gear-types" class="anchor"></a>Aggregating Gear Types</h2>
<p>Each gear type is designed to target particular species. Some gear types may catch predominantly one species (eg. Lobsters traps) where others may catch multiple species (bottom trawls). We aim to aggregate the gear types into fleets using similarities in the catch among the gear types. To achieve this we will adopt an agglomerative hierarchical, nearest neighbor clustering method (<span class="citation">Manly (<a href="#ref-manly2017" role="doc-biblioref">2017</a>)</span>) using euclidean distance as the measure of distance between groups. In this approach all gear types begin in separate groups. Groups that are similar (similar catch, defined by a distance measure) are then merged until at some distance all gear types belong to a single group. The variables used to determine the grouping are the species caught, measured by landings (in lbs)</p>
<p>Landings data, by gear type, are pulled from the database.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">channel</span> <span class="op">&lt;-</span> <span class="fu">dbutils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/dbutils/man/connect_to_database.html">connect_to_database</a></span><span class="op">(</span><span class="st">"server"</span>,<span class="st">"id"</span><span class="op">)</span>
<span class="fu">get_landings_by_data</span><span class="op">(</span><span class="va">channel</span>,percentLanded<span class="op">=</span><span class="fl">0.90</span>,area<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu">cfdbs</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/cfdbs/man/EPUs.html">EPUs</a></span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="st">"GB"</span><span class="op">]</span><span class="op">]</span>,<span class="fl">537</span><span class="op">)</span>,outDir<span class="op">=</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The resulting data are then formatted as a data frame (or matrix) where each gear type is represented in a row and each species in a column. Each cell being the landings of the species by the gear type. Note: There will be many zeros in the data frame representing gear types that do not catch a particular species.</p>
<p>The variables are often standardized so that all of the variables are equally important in determining distances. We standardize each variable to have zero mean and unit variance. At this point pairwise distances between all gear types are calculated using the Euclidean distance function</p>
<p><span class="math display">\[d_{i,j} = \left( \sum_{k=1}^p(x_{i,k}-x_{j,k})^2 \right) ^{1/2} \]</span> where <span class="math inline">\(x_{i,k}\)</span> is the landings of species <span class="math inline">\(k\)</span> by gear type <span class="math inline">\(i\)</span> and <span class="math inline">\(x_{j,k}\)</span> is the landings of species <span class="math inline">\(k\)</span> by gear type <span class="math inline">\(j\)</span>. <span class="math inline">\(d_{i,j}\)</span> is the measure of distance between gear type <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span></p>
<p>A dendrogram is then formed using the agglomerative hierarchical process. This process is carried out using the statistical package <a href=""><code>cluster</code></a> (<span class="citation">Maechler et al. (<a href="#ref-cluster211" role="doc-biblioref">2021</a>)</span>) in R.</p>
<div id="approach-use-all-gear-types" class="section level3">
<h3 class="hasAnchor">
<a href="#approach-use-all-gear-types" class="anchor"></a>Approach: Use all gear types</h3>
<p>For each gear type the landings of each species are aggregated over time and then ordered from the most abundant to least abundant. To reduce the number of variables (species) in the analysis we only use species which comprise 90% of the total landings for each gear type.</p>
<p>(Figure @ref(fig:dendro1)) shows the result of this approach. Initial inspection indicates further “cleaning” of the data is required.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">clusterObj</span> <span class="op">&lt;-</span> <span class="fu">cluster_analysis_all_gears</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">clusterObj</span>,ask<span class="op">=</span><span class="cn">T</span>,which.plots<span class="op">=</span><span class="fl">2</span>,main<span class="op">=</span><span class="st">"Complete gear list using 90% landing from each gear"</span>,xlab<span class="op">=</span><span class="st">""</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="figures/dendrogram1.png" alt="The dendrogram obtained from a nearest-neighbor, hierarchical cluster analysis on all gear types used in the Georges Bank Ecological Production unit as defined by statistical areas" width="100%"><p class="caption">
The dendrogram obtained from a nearest-neighbor, hierarchical cluster analysis on all gear types used in the Georges Bank Ecological Production unit as defined by statistical areas
</p>
</div>
<p>Note: Low values of the agglomerative coefficient indicate tight clustering of gears types. Larger values indicate less well formed clusters.</p>
</div>
<div id="approach-use-gears-responsible-for-most-landings" class="section level3">
<h3 class="hasAnchor">
<a href="#approach-use-gears-responsible-for-most-landings" class="anchor"></a>Approach: Use gears responsible for most landings</h3>
<p>Total landings, aggregated over time, are ordered by gear type. The gear types that contribute to 99% of total landings are selected and used in the cluster analysis</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">clusterObj</span> <span class="op">&lt;-</span> <span class="fu">cluster_analysis_filter_gears</span><span class="op">(</span>filterByLandings<span class="op">=</span><span class="fl">.99</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">clusterObj</span><span class="op">$</span><span class="va">top</span>,ask<span class="op">=</span><span class="cn">T</span>,which.plots<span class="op">=</span><span class="fl">2</span>,main<span class="op">=</span><span class="st">"Gear types contributing to 99% of total landings"</span>,xlab<span class="op">=</span><span class="st">""</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="figures/dendrogram2.png" alt="The dendrogram obtained from a nearest-neighbor, hierarchical cluster analysis on a subset of gear types in the Georges Bank Ecological Production unit as defined by statistical areas. Gear types were selected based on their contribution to 99% of landings" width="100%"><p class="caption">
The dendrogram obtained from a nearest-neighbor, hierarchical cluster analysis on a subset of gear types in the Georges Bank Ecological Production unit as defined by statistical areas. Gear types were selected based on their contribution to 99% of landings
</p>
</div>
</div>
<div id="species-landings-by-gear" class="section level3 tabset tabset-pills">
<h3 class="hasAnchor">
<a href="#species-landings-by-gear" class="anchor"></a>Species landings by gear</h3>
<p>Time series of species caught by each gear type. To reduce the number of panels in each figure, species caught &lt; 30% of the time are not displayed. For example reporting of landings started in 1964 (56 years ago). So any species that have reported landings in fewer that 17 years are not displayed.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span> <span class="op">(</span><span class="va">gear</span> <span class="kw">in</span> <span class="va">clusteObj</span><span class="op">$</span><span class="va">topGears</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">explore_landings_by_gear</span><span class="op">(</span><span class="va">channel</span>,data<span class="op">=</span><span class="va">gearData</span><span class="op">$</span><span class="va">data</span>,gearCode<span class="op">=</span><span class="va">gear</span>,filterYrs<span class="op">=</span><span class="fl">0.30</span>,saveToFile<span class="op">=</span><span class="cn">T</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<div id="section" class="section level4">
<h4 class="hasAnchor">
<a href="#section" class="anchor"></a>01</h4>
<pre><code>## # A tibble: 1 × 2
##   NEGEAR2 GEARNM          
##   &lt;chr&gt;   &lt;chr&gt;           
## 1 01      LONGLINE, BOTTOM</code></pre>
<p><img src="figures/gear01.png"><!-- --></p>
</div>
<div id="section-1" class="section level4">
<h4 class="hasAnchor">
<a href="#section-1" class="anchor"></a>02</h4>
<pre><code>## # A tibble: 2 × 2
##   NEGEAR2 GEARNM           
##   &lt;chr&gt;   &lt;chr&gt;            
## 1 02      HANDLINE         
## 2 02      HANDLINE,AUTO JIG</code></pre>
<p><img src="figures/gear02.png"><!-- --></p>
</div>
<div id="section-2" class="section level4">
<h4 class="hasAnchor">
<a href="#section-2" class="anchor"></a>05</h4>
<pre><code>## # A tibble: 10 × 2
##    NEGEAR2 GEARNM                              
##    &lt;chr&gt;   &lt;chr&gt;                               
##  1 05      TRAWL,OTTER,BOTTOM,FISH             
##  2 05      TRAWL,OTTER,BOTTOM,CRAB             
##  3 05      TRAWL,OTTER,BOTTOM,SCALLOP          
##  4 05      TRAWL,OTTER,BOTTOM,TWIN             
##  5 05      TRAWL,OTTER,BOTTOM,RUHLE            
##  6 05      TRAWL,OTTER,BOTTOM,LOBSTER          
##  7 05      TRAWL,OTTER,BOTTOM PAIRED           
##  8 05      TRAWL,OTTER,BOTTOM,HADDOCK SEPARATOR
##  9 05      TRAWL,OTTER,BOTTOM,SHRIMP           
## 10 05      TRAWL,OTTER,BOTTOM,OTHER/NK SPECIES</code></pre>
<p><img src="figures/gear05.png"><!-- --></p>
</div>
<div id="section-3" class="section level4">
<h4 class="hasAnchor">
<a href="#section-3" class="anchor"></a>10</h4>
<pre><code>## # A tibble: 6 × 2
##   NEGEAR2 GEARNM                                            
##   &lt;chr&gt;   &lt;chr&gt;                                             
## 1 10      GILL NET, FIXED OR ANCHORED,SINK, OTHER/NK SPECIES
## 2 10      GILL NET,SET /STAKE, SEA BASS                     
## 3 10      GILL NET,STAKE,OTHER                              
## 4 10      GILL NET,SET, SALMON                              
## 5 10      GILL NET,SET, CRAB                                
## 6 10      GILL NET,ANCHORED-FLOATING, FISH</code></pre>
<p><img src="figures/gear10.png"><!-- --></p>
</div>
<div id="section-4" class="section level4">
<h4 class="hasAnchor">
<a href="#section-4" class="anchor"></a>12</h4>
<pre><code>## # A tibble: 5 × 2
##   NEGEAR2 GEARNM                       
##   &lt;chr&gt;   &lt;chr&gt;                        
## 1 12      PURSE SEINE, OTHER/NK SPECIES
## 2 12      PURSE SEINE, HERRING         
## 3 12      PURSE SEINE, MACKEREL        
## 4 12      PURSE SEINE, MENHADEN        
## 5 12      PURSE SEINE, TUNA</code></pre>
<p><img src="figures/gear12.png"><!-- --></p>
</div>
<div id="section-5" class="section level4">
<h4 class="hasAnchor">
<a href="#section-5" class="anchor"></a>13</h4>
<pre><code>## # A tibble: 2 × 2
##   NEGEAR2 GEARNM             
##   &lt;chr&gt;   &lt;chr&gt;              
## 1 13      DREDGE, SCALLOP,BAY
## 2 13      DREDGE, SCALLOP,SEA</code></pre>
<p><img src="figures/gear13.png"><!-- --></p>
</div>
<div id="section-6" class="section level4">
<h4 class="hasAnchor">
<a href="#section-6" class="anchor"></a>14</h4>
<pre><code>## # A tibble: 4 × 2
##   NEGEAR2 GEARNM                     
##   &lt;chr&gt;   &lt;chr&gt;                      
## 1 14      POUND NET, OTHER/NK SPECIES
## 2 14      POUND NET, CRAB            
## 3 14      POUND NET, FISH            
## 4 14      POUND NET, HORSESHOE CRAB</code></pre>
<p><img src="figures/gear14.png"><!-- --></p>
</div>
<div id="section-7" class="section level4">
<h4 class="hasAnchor">
<a href="#section-7" class="anchor"></a>17</h4>
<pre><code>## # A tibble: 1 × 2
##   NEGEAR2 GEARNM                     
##   &lt;chr&gt;   &lt;chr&gt;                      
## 1 17      TRAWL,OTTER,MIDWATER PAIRED</code></pre>
<p><img src="figures/gear17.png"><!-- --></p>
</div>
<div id="section-8" class="section level4">
<h4 class="hasAnchor">
<a href="#section-8" class="anchor"></a>18</h4>
<pre><code>## # A tibble: 7 × 2
##   NEGEAR2 GEARNM                       
##   &lt;chr&gt;   &lt;chr&gt;                        
## 1 18      POTS + TRAPS,OTHER/NK SPECIES
## 2 18      POTS + TRAPS,FISH            
## 3 18      POTS + TRAPS,EEL             
## 4 18      POTS + TRAPS,CONCH           
## 5 18      POTS + TRAPS,OCTOPUS         
## 6 18      POTS + TRAPS,TURTLE          
## 7 18      POTS + TRAPS, HAGFISH</code></pre>
<p><img src="figures/gear18.png"><!-- --></p>
</div>
<div id="section-9" class="section level4">
<h4 class="hasAnchor">
<a href="#section-9" class="anchor"></a>20</h4>
<pre><code>## # A tibble: 8 × 2
##   NEGEAR2 GEARNM                         
##   &lt;chr&gt;   &lt;chr&gt;                          
## 1 20      POT/TRAP, LOBSTER OFFSH NK     
## 2 20      POT/TRAP, LOBSTER OFFSH WOOD   
## 3 20      POT/TRAP, LOBSTER OFFSH WIRE   
## 4 20      POT/TRAP, LOBSTER OFFSH WD/WR  
## 5 20      POT/TRAP, LOBSTER OFFSH WD/NET 
## 6 20      POT/TRAP, LOBSTER OFFSH WR/NET 
## 7 20      POT/TRAP, LOBSTER OFFSH PLASTIC
## 8 20      POT/TRAP, LOBSTER OFFSH CONICAL</code></pre>
<p><img src="figures/gear20.png"><!-- --></p>
</div>
<div id="section-10" class="section level4">
<h4 class="hasAnchor">
<a href="#section-10" class="anchor"></a>21</h4>
<pre><code>## # A tibble: 8 × 2
##   NEGEAR2 GEARNM                        
##   &lt;chr&gt;   &lt;chr&gt;                         
## 1 21      POT/TRAP, LOBSTER INSH NK     
## 2 21      POT/TRAP, LOBSTER INSH WOOD   
## 3 21      POT/TRAP, LOBSTER INSH WIRE   
## 4 21      POT/TRAP, LOBSTER INSH WD/WR  
## 5 21      POT/TRAP, LOBSTER INSH WD/NET 
## 6 21      POT/TRAP, LOBSTER INSH WR/NET 
## 7 21      POT/TRAP, LOBSTER INSH PLASTIC
## 8 21      POT/TRAP, LOBSTER INSH CONICAL</code></pre>
<p><img src="figures/gear21.png"><!-- --></p>
</div>
<div id="section-11" class="section level4">
<h4 class="hasAnchor">
<a href="#section-11" class="anchor"></a>30</h4>
<pre><code>## # A tibble: 2 × 2
##   NEGEAR2 GEARNM                 
##   &lt;chr&gt;   &lt;chr&gt;                  
## 1 30      POTS + TRAPS,CRAB OTHER
## 2 30      POTS + TRAPS,BLUE CRAB</code></pre>
<p><img src="figures/gear30.png"><!-- --></p>
</div>
<div id="section-12" class="section level4">
<h4 class="hasAnchor">
<a href="#section-12" class="anchor"></a>37</h4>
<pre><code>## # A tibble: 1 × 2
##   NEGEAR2 GEARNM              
##   &lt;chr&gt;   &lt;chr&gt;               
## 1 37      TRAWL,OTTER,MIDWATER</code></pre>
<p><img src="figures/gear37.png"><!-- --></p>
</div>
<div id="section-13" class="section level4">
<h4 class="hasAnchor">
<a href="#section-13" class="anchor"></a>38</h4>
<pre><code>## # A tibble: 8 × 2
##   NEGEAR2 GEARNM                  
##   &lt;chr&gt;   &lt;chr&gt;                   
## 1 38      SCRAPES                 
## 2 38      DREDGE, OTHER/NK SPECIES
## 3 38      DREDGE, CLAM            
## 4 38      DREDGE, CRAB            
## 5 38      DREDGE, CONCH           
## 6 38      DREDGE, MUSSEL          
## 7 38      DREDGE, CLAM, HYDRAULIC 
## 8 38      DREDGE, URCHIN</code></pre>
<p><img src="figures/gear38.png"><!-- --></p>
</div>
<div id="section-14" class="section level4">
<h4 class="hasAnchor">
<a href="#section-14" class="anchor"></a>40</h4>
<pre><code>## # A tibble: 1 × 2
##   NEGEAR2 GEARNM                         
##   &lt;chr&gt;   &lt;chr&gt;                          
## 1 40      DREDGE, SURF CLAM + OCEAN QUAHO</code></pre>
<p><img src="figures/gear40.png"><!-- --></p>
</div>
</div>
<div id="gears-that-make-up-1-landings" class="section level3">
<h3 class="hasAnchor">
<a href="#gears-that-make-up-1-landings" class="anchor"></a>Gears that make up &lt; 1% landings</h3>
<p>The remaining gears (not contributing to 99% of the landings) were used in a cluster analysis to determine how similar these gears are to each other, since 100% of landings should be accounted for.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">clusterObj</span><span class="op">$</span><span class="va">bottom</span>,ask<span class="op">=</span><span class="cn">T</span>,which.plots<span class="op">=</span><span class="fl">2</span>,main<span class="op">=</span><span class="st">"Gear types contributing &lt; 1% of total landings"</span>,xlab<span class="op">=</span><span class="st">""</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="figures/dendrogram3.png" alt="The dendrogram obtained from a nearest-neighbor, hierarchical cluster analysis on a subset of gear types in the Georges Bank Ecological Production unit as defined by statistical areas. Gear types were selected based on not contributing to top 99% of landings" width="100%"><p class="caption">
The dendrogram obtained from a nearest-neighbor, hierarchical cluster analysis on a subset of gear types in the Georges Bank Ecological Production unit as defined by statistical areas. Gear types were selected based on not contributing to top 99% of landings
</p>
</div>
</div>
<div id="approach-select-gear-types-that-catch-species-of-interest" class="section level3">
<h3 class="hasAnchor">
<a href="#approach-select-gear-types-that-catch-species-of-interest" class="anchor"></a>Approach: Select gear types that catch species of interest</h3>
<p>All gear types which catch any amount of the <a href="https://noaa-edab.github.io/ms-keyrun/SpeciesEnvDat.html#focalSpecies">Species</a> of interest are used in the cluster analysis. The hope was the set of gear types in which to begin the cluster analysis would be substantially less. The number of gears eliminated = 10. It is apparent that species of interest are caught across a broad class of gear types.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#focalSpecies &lt;- readRDS(here::here("data-raw/data","focalspecies.rds"))</span>
<span class="va">clusterObj</span> <span class="op">&lt;-</span> <span class="fu">cluster_by_focal_species</span><span class="op">(</span><span class="fu">mskeyrun</span><span class="fu">::</span><span class="va"><a href="../reference/focalSpecies.html">focalSpecies</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">clusterObj</span>,ask<span class="op">=</span><span class="cn">T</span>,which.plots<span class="op">=</span><span class="fl">2</span>,main<span class="op">=</span><span class="st">"All gear types that land species of interest"</span>,xlab<span class="op">=</span><span class="st">""</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="figures/dendrogram4.png" alt="The dendrogram obtained from a nearest-neighbor, hierarchical cluster analysis on a subset of gear types in the Georges Bank Ecological Production unit as defined by statistical areas. All gear types that landed species of interest were selected" width="100%"><p class="caption">
The dendrogram obtained from a nearest-neighbor, hierarchical cluster analysis on a subset of gear types in the Georges Bank Ecological Production unit as defined by statistical areas. All gear types that landed species of interest were selected
</p>
</div>
</div>
</div>
<div id="bottom-trawls-smalllarge-mesh" class="section level2 tabset tabset-pills">
<h2 class="hasAnchor">
<a href="#bottom-trawls-smalllarge-mesh" class="anchor"></a>Bottom trawls (small/large mesh)</h2>
<p>Over time (dates/references????) changes in regulations resulted in the requirement of fisherman to increase the mesh size in their nets. This allowed smaller fish to escape the nets. However there were, and still are, exemptions to this regulation allowing fishermen to fish with smaller meshed nets depending on the time of the year and the area they fish. However all of the associated landings are flagged as using the same gear type code. Since the change in regulations dictate a change in the composition of species caught over time, this gear type needs to be investigated separately. The data base holds information based on the mesh size of the otter trawl nets for NEGEAR code = 5 (from 1982 onward).</p>
<p>Below are plots of species caught in the otter trawl (making up 96% of the total catch from 1964 to 2020) by mesh size (in inches). Note that the figure begins in 1982. Any trip without a mesh size attributed is not displayed, this includes all trips prior to 1982. A lack of mesh size accounts for approximately 20% of landing post 1982 and approximately 50% of all landings</p>
<div id="plotted-on-same-scale" class="section level3">
<h3 class="hasAnchor">
<a href="#plotted-on-same-scale" class="anchor"></a>plotted on same scale</h3>
<p><img src="figures/demersalfixed.png"><!-- --></p>
</div>
<div id="plotted-on-different-scale" class="section level3">
<h3 class="hasAnchor">
<a href="#plotted-on-different-scale" class="anchor"></a>plotted on different scale</h3>
<p><img src="figures/demersalfree_y.png"><!-- --></p>
</div>
</div>
<div id="decision" class="section level2">
<h2 class="hasAnchor">
<a href="#decision" class="anchor"></a>Decision</h2>
<p>This exploratory study resulted in the following designation of <a href="https://noaa-edab.github.io/ms-keyrun/articles/GBFleetDecisions.html">Fleets</a></p>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-cluster211">
<p>Maechler, M., Rousseeuw, P., Struyf, A., Hubert, M., &amp; Hornik, K. (2021). <em>Cluster: Cluster analysis basics and extensions</em>. <a href="https://CRAN.R-project.org/package=cluster">https://CRAN.R-project.org/package=cluster</a><br>
R package version 2.1.1 — For new features, see the ’Changelog’ file (in the package source)</p>
</div>
<div id="ref-manly2017">
<p>Manly, B. (2017). <em>Multivariate statistical methods</em> (Fourth edition). Chapman &amp; Hall.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Andy Beet, Sean Lucey, Sarah Gaichas, Kiersten Curti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
